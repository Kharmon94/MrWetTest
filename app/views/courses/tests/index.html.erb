<div class="container py-5">
  <div class="row">
    <div class="col-lg-10 mx-auto">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="text-gradient h3 mb-0">Tests for <%= @course.title %></h1>
        <%= link_to "← Back to Course", course_path(@course), class: "btn btn-outline-secondary" %>
      </div>

      <% if @tests.any? %>
        <div class="row g-4">
          <% @tests.each do |test| %>
            <div class="col-lg-6 col-md-6">
              <div class="card h-100" style="background: var(--bg-secondary); border: 1px solid var(--border-primary);">
                <div class="card-body p-4" style="color: var(--text-primary);">
                  <div class="d-flex align-items-start mb-3">
                    <div class="me-3">
                      <div class="bg-primary bg-opacity-10 rounded p-2">
                        <i class="fas fa-clipboard-check text-primary"></i>
                      </div>
                    </div>
                    <div class="flex-grow-1">
                      <h5 class="card-title mb-2"><%= test.title %></h5>
                      <p class="card-text text-muted small mb-3">
                        <%= test.assessment_type.titleize %> Assessment
                      </p>
                    </div>
                  </div>
                  
                  <div class="d-flex gap-2 mb-3">
                    <%= link_to "View Test", course_test_path(@course, test), class: "btn btn-primary btn-sm" %>
                    <% if current_user.can_access?(test) %>
                      <%= link_to "Take Test", procedures_test_path(test), class: "btn btn-outline-primary btn-sm" %>
                    <% end %>
                  </div>
                  
                  <div class="text-muted small">
                    <div class="d-flex justify-content-between">
                      <span>Questions: <%= test.question_pool_size %></span>
                      <span>Passing Score: <%= test.passing_score %>%</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      <% else %>
        <div class="text-center py-5">
          <div class="mb-4">
            <i class="fas fa-clipboard-list" style="font-size: 4rem; color: var(--text-muted);"></i>
          </div>
          <h4 style="color: var(--text-muted); margin-bottom: 1rem;">No Tests Available</h4>
          <p style="color: var(--text-muted); margin-bottom: 1.5rem;">This course doesn't have any tests yet.</p>
          <%= link_to "← Back to Course", course_path(@course), class: "btn btn-primary" %>
        </div>
      <% end %>
    </div>
  </div>
</div>